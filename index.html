<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Home - Fogg's Water Taxi</title>
    <meta name="description" content="Fogg's Water Taxi ‚Äî Portland, Maine's premier water taxi and cruise service on Casco Bay. On-demand rides to Peaks Island, Diamond Cove, Fort Gorges, and more. Book now." />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/cf2efbd62f.js" crossorigin="anonymous"></script>
    <link href="css/style.css" rel="stylesheet">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-md bg-white border-bottom">
    <div class="container-xl">
        <a class="navbar-brand d-flex align-items-center" href="/">
            <img src="img/fwt_logo.png" alt="Fogg's Logo" class="me-2" style="height:40px;" />
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNav">
            <ul class="navbar-nav ms-auto align-items-md-center">
                <li class="nav-item me-md-3"><a class="nav-link active" aria-current="page" href="/">Home</a></li>
                <li class="nav-item me-md-3"><a class="nav-link" href="taxi">Water Taxi</a></li>

                <li class="nav-item dropdown me-md-3">
                    <a class="nav-link dropdown-toggle" href="#" id="chartersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Charters &amp; Cruises</a>
                    <ul class="dropdown-menu shadow-sm" aria-labelledby="chartersDropdown">
                        <li><a class="dropdown-item" href="charters">Private Charters</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="cruises">Public Cruises</a></li>
                    </ul>
                </li>

                <li class="nav-item me-md-3"><a class="nav-link" href="tripIdeas">Trip Ideas</a></li>
                <li class="nav-item me-md-3"><a class="nav-link" href="ourfleet">Our Fleet</a></li>
                <li class="nav-item me-md-3"><a class="nav-link" href="contact">Contact</a></li>
                <li class="nav-item me-md-3"><a class="nav-link" href="aboutus">About Us</a></li>
                <li class="nav-item"><a class="nav-link" href="faq">FAQ</a></li>
            </ul>
        </div>
    </div>
</nav>

<!-- HERO -->
<section class="hero bg-dark">
    <video autoplay loop muted playsinline>
        <source src="img/compressed.mp4" type="video/mp4" />
        Your browser does not support the video tag.
    </video>

    <div class="hero-content p-4">
        <h1 class="display-2  mb-3 lobster-font">Fogg's Water Taxi &amp; Charters</h1>
        <h3 class="h3 mb-4">Casco Bay &middot; Portland Maine</h3>

        <div class="d-flex flex-column flex-sm-row justify-content-center gap-3">
            <!-- Mobile: tel link -->
            <a href="tel:+12074158493" class="btn btn-info text-white fw-semibold py-3 px-4 d-sm-none">Book Water Taxi</a>
            <!-- Desktop: /taxi link -->
            <a href="/taxi" class="btn btn-info text-white fw-semibold py-3 px-4 d-none d-sm-inline-block">Book Water Taxi</a>
            <!-- Shared button: Cruises -->
            <a href="https://fareharbor.com/embeds/book/foggswatertaxi/items/?flow=955616"
               class="btn btn-light fw-semibold py-3 px-4">
                Book Public Cruises
            </a>

        </div>
    </div>
</section>
<section class="py-4 py-md-5 with-bg-image-light">
    <div class="container">
        <div class="row align-items-center bg-light rounded-3 p-3 p-md-4 shadow-sm">
            <div class="col-6 fs-5 text-center text-start">Ready to book?</div>
            <div class="col-6 text-center text-end mt-md-0">
                <a class="btn btn-outline-secondary" href="tel:207-415-8493">Call Now</a>
            </div>
        </div>
    </div>
</section>
<section class=" bg-secondary py-4 py-md-5">
    <div class="container position-relative z-1">

        <!-- Services -->
        <div class="bg-primary text-white rounded-4 p-4 p-md-5 overflow-visible mb-4">
            <div class="row align-items-center gy-4 position-relative">
                <div class="col-md-8 pe-5">
                    <h2 class="h2 fw-semibold mb-3">Our Services</h2>
                    <p class="mb-3">
                        We offer transport for everyone! From getting to your dinner reservation in Diamond Cove
                        to getting home after a late flight we will help get you where you're going.
                    </p>
                    <p class="mb-0">
                        Explore our <a class="link-light fw-semibold" href="taxi">Water Taxi page</a>
                        to plan your island adventure or check out our
                        <a class="link-light fw-semibold" href="cruises">Events page</a>
                        to reserve your spot on one of our public charters. Alternatively, experience the bay in
                        style with one of our <a class="link-light fw-semibold" href="charters">private charters</a>,
                        tailor-made for your special events and gatherings. Let Fogg's Water Taxi Services create
                        unforgettable memories on the sparkling waters of Casco Bay. Book your trip today!
                    </p>
                </div>
                <div class="col-md-4 stacked-wrap ps-5">
                    <img src="img/MartineCard1.webp" alt="Fogg's Water Taxi Martine boat on Casco Bay, Portland Maine" class="stacked-base rounded-3" />
                    <img src="img/summerHours.webp" alt="Fogg's Water Taxi summer hours and schedule, Portland Maine" class="stacked-top rounded-3" />
                </div>
            </div>
        </div>

        <!-- UPCOMING CRUISES CALENDAR ‚Äî live from FareHarbor ICS feed -->
        <div class="bg-primary text-white rounded-4 p-4 p-md-5 mb-4">
            <h2 class="h2 fw-semibold mb-1">Upcoming Cruises</h2>
            <p class="small opacity-75 mb-4">Select a highlighted date to see what's sailing</p>
            <div class="row g-4 align-items-start">
                <div class="col-md-6">
                    <div style="background:rgba(255,255,255,.1);border-radius:.75rem;padding:1rem;">
                        <div class="d-flex align-items-center justify-content-between mb-3">
                            <button id="cal-prev" class="btn btn-outline-light btn-sm px-3">&#8249;</button>
                            <strong id="cal-title" class="fs-5"></strong>
                            <button id="cal-next" class="btn btn-outline-light btn-sm px-3">&#8250;</button>
                        </div>
                        <div id="cruise-cal-grid" class="cruise-cal-grid"></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div id="cal-event-panel" class="mt-2">
                        <p class="opacity-75 mb-0"><em>Select a date to view cruises</em></p>
                    </div>
                </div>
            </div>
        </div>

<!--        <div class="bg-primary text-white rounded-4 p-4 p-md-5 mb-4">-->
<!--            <div class="row align-items-center g-4">-->
<!--                <div class="col-md-6 order-md-2">-->
<!--                    <span class="text-uppercase small text-info">Featured Winter Cruise</span>-->
<!--                    <h3 class="display-6 fw-semibold mt-1">Christmas Parade of Lights Cruise</h3>-->
<!--                    <p class="mt-3 mb-4">-->
<!--                        Experience the Parade of Lights aboard the Casco Bay Cat!-->
<!--                        <br>-->
<!--                        <br>-->
<!--                        Join Fogg‚Äôs Water Taxi & Charters for a festive holiday cruise as we participate in Portland‚Äôs annual Parade of Lights. Mrs. Claus will be on the radio, directing all participating boats and guiding us into the parade route.-->
<!--                        <br>-->
<!--                        <br>-->
<!--                        Enjoy complimentary hot chocolate and cookies while we enjoy Portland harbor's winter wonderland. The Casco Bay Cat is a BYOB vessel, so feel free to bring your own beverages to add some extra holiday cheer.-->

<!--                                        </p>-->
<!--                    <div class="d-flex flex-wrap align-items-center gap-2">-->
<!--                        <a href="https://fareharbor.com/embeds/book/foggswatertaxi/items/681672/?full-items=yes&flow=no"-->
<!--                           class="btn btn-light text-info fw-semibold">Book Now</a>-->
<!--                        <a href="bwoc.html" class="btn btn-outline-light">More Info</a>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-md-6 order-md-1">-->
<!--                    <div class="bg-white rounded-4 shadow overflow-hidden">-->
<!--                        <img src="img/parade.webp" alt="Beer, Wine & Oysters Cruise" class="img-fluid w-100" />-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

        <!-- Featured Destination -->
        <div class="bg-primary text-white rounded-4 p-4 p-md-5 mb-4">
            <div class="row g-4 align-items-stretch">
                <!-- Carousel (1/3 on md+) -->
                <div class="col-md-4">
                    <div id="featuredCarousel" class="carousel carousel-dark slide featured-carousel" data-bs-ride="carousel">

                        <div class="carousel-inner rounded-3">
                            <div class="carousel-item active" data-bs-interval="5000">
                                <img src="img/DC1.webp" class="d-block w-100" alt="Diamond Cove on Great Diamond Island, Casco Bay Maine ‚Äî accessible by Fogg's Water Taxi" />
                            </div>
                            <div class="carousel-item" data-bs-interval="5000">
                                <img src="img/DC2.webp" class="d-block w-100" alt="Great Diamond Island resort and marina, Casco Bay Maine" />
                            </div>
                            <div class="carousel-item" data-bs-interval="5000">
                                <img src="img/DC3.webp" class="d-block w-100" alt="Diamond Cove beach and waterfront, Great Diamond Island, Casco Bay" />
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#featuredCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#featuredCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>

                <!-- Text (2/3 on md+) -->
                <div class="col-md-8 mt-0 d-flex flex-column justify-content-center">
                    <span class="text-cyan-200 text-uppercase small mb-2">Featured Destination</span>
                    <h3 class="display-6 fw-semibold">Diamond Cove</h3>
                    <p class="mt-3">
                        Diamond Cove is a great choice for date night or a memorable dinner on the bay. Boasting two outstanding
                        restaurants and a welcoming hotel, it offers something for everyone. To cap off your visit, book your
                        return at sunset for an unforgettable view.
                    </p>
                    <div class="mt-3 d-flex flex-wrap align-items-center gap-2">
                        <a href="https://www.crownjewelportland.com" target="_blank" rel="noopener noreferrer" class="btn btn-light text-info fw-semibold">Visit Crown Jewel</a>
                        <a href="https://www.diamondsedgerestaurantandmarina.com" target="_blank" rel="noopener noreferrer" class="btn btn-light text-info fw-semibold">Visit Diamonds Edge</a>
                        <a href="tripIdeas" class="btn btn-outline-light">Other Trip Ideas</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ABOUT (inside blue wrapper) -->
        <div class="bg-primary text-white rounded-4 p-4 p-md-5 mb-4">
            <h2 class="h2 fw-semibold mb-3">About Fogg's Water Taxi</h2>
            <p class="mb-0">
                We offer seamless transportation to the picturesque islands of Casco Bay with our fleet of
                handcrafted boats. As the turquoise waters embrace you, the warm hospitality of our local crew
                leaves you feeling like part of the family. With a deep-rooted connection to the bay and a
                dedication to preserving its natural beauty, we offer an authentic Maine experience.
            </p>
        </div>

        <!-- WHY WE'RE BEST (inside blue wrapper) -->
        <div class="bg-primary text-white rounded-4 p-4 p-md-5 mb-4">
            <h2 class="h2 fw-semibold mb-4 text-center">Why We're Portland, Maine's Best Water Taxi</h2>
            <div class="row g-4">
                <div class="col-md-6 d-flex">
                    <span class="me-3 fs-3">‚õµ</span>
                    <p class="mb-0"><strong>Expertise &amp; Experience:</strong> With decades in the business, our captains hold a wealth of maritime knowledge, ensuring safe and comfortable journeys.</p>
                </div>
                <div class="col-md-6 d-flex">
                    <span class="me-3 fs-3">üí≤</span>
                    <p class="mb-0"><strong>Competitive Rates:</strong> We believe quality shouldn't compromise affordability. Our pricing structure is designed to offer the best value on the bay.</p>
                </div>
                <div class="col-md-6 d-flex">
                    <span class="me-3 fs-3">üó∫Ô∏è</span>
                    <p class="mb-0"><strong>Wide Range of Services:</strong> Whether you're looking for a scenic island tour, a last minute taxi ride, or a bespoke private charter, we offer service tailored to your needs.</p>
                </div>
                <div class="col-md-6 d-flex">
                    <span class="me-3 fs-3">‚≠ê</span>
                    <p class="mb-0"><strong>Stellar Reputation:</strong> Our legacy in Portland speaks volumes. Fogg's is synonymous with reliability and excellence, a reputation built on impeccable service.</p>
                </div>
                <div class="col-md-6 d-flex">
                    <span class="me-3 fs-3">ü§ù</span>
                    <p class="mb-0"><strong>Exceptional Customer Service:</strong> We prioritize our passengers. From the moment you book with us to when you step off our vessel, expect a seamless experience with a friendly crew ready to assist.</p>
                </div>
                <div class="col-md-6 d-flex">
                    <span class="me-3 fs-3">üö§</span>
                    <p class="mb-0"><strong>State-of-the-Art Fleet:</strong> Safety is paramount. Our handcrafted boats are equipped with state-of-the-art safety and navigation systems, ensuring you reach your destination timely and securely.</p>
                </div>
            </div>
        </div>

        <!-- TESTIMONIALS (inside blue wrapper) -->
        <div class="bg-primary rounded-4 p-4 p-md-5">
            <h2 class="h2 fw-semibold mb-4 text-center text-white">What Our Customers Say</h2>

            <div class="row g-4 row-cols-1 row-cols-md-3">
                <div class="col">
                    <figure class="h-100 rounded-3 border bg-white p-4 shadow-sm m-0">
                        <div class="quote-mark mb-3">‚Äú</div>
                        <blockquote class="mb-3 text-primary">
                            <a class="fw-bold link-underline-opacity-0 text-primary" href="https://fareharbor.com/embeds/book/foggswatertaxi/items/532278/?full-items=yes&flow=955616">Midday on the Bay</a> was the perfect amount of time on the water for all of us. Our kids loved it. It was also great talking with the captain and learning a bit more about the area. Highly recommended!
                        </blockquote>
                        <figcaption class="d-flex justify-content-between align-items-center small">
                            <div>
                                <div class="fw-semibold text-dark">Jamie G.</div>
                            </div>
                            <div aria-label="5 star rating" class="text-warning">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        </figcaption>
                    </figure>
                </div>

                <div class="col">
                    <figure class="h-100 rounded-3 border bg-white p-4 shadow-sm m-0">
                        <div class="quote-mark mb-3">‚Äú</div>
                        <blockquote class="mb-3 text-primary">
                            We had such a great time on the <a class="fw-bold link-underline-opacity-0 text-primary" href="https://fareharbor.com/embeds/book/foggswatertaxi/items/461466/?full-items=yes&flow=955616"> Beer, Wine, and Oysters cruise</a>! They had unlimited drinks and oysters for our 2hr cruise around the bay. Great sights and met a really nice family that we chatted with for a while. If you‚Äôre hesitant for any reason, just book it! You will 100% enjoy your time. The Joseph S. Kennedy is a really cool boat with a great historical background.
                        </blockquote>
                        <figcaption class="d-flex justify-content-between align-items-center small">
                            <div>
                                <div class="fw-semibold text-dark">Josh</div>
                            </div>
                            <div aria-label="5 star rating" class="text-warning">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        </figcaption>
                    </figure>
                </div>

                <div class="col">
                    <figure class="h-100 rounded-3 border bg-white p-4 shadow-sm m-0">
                        <div class="quote-mark mb-3">‚Äú</div>
                        <blockquote class="mb-3 text-primary">
                            Foggs is fantastic! Made it from Portland to Diamond Cove in no time. Staff is friendly and courteous - we will always use Foggs for our water taxi needs!
                        </blockquote>
                        <figcaption class="d-flex justify-content-between align-items-center small">
                            <div>
                                <div class="fw-semibold text-dark">Allison B.</div>
                            </div>
                            <div aria-label="5 star rating" class="text-warning">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        </figcaption>
                    </figure>
                </div>
            </div>
        </div>

    </div>
</section>
<footer class="bg-success text-white">
    <div class="container py-4">
        <div class="row g-4 align-items-center text-center text-md-start">
            <!-- Contact -->
            <div class="col-md-4">
                <p class="mb-1">
                    <a href="tel:207-415-8493" class="link-light text-decoration-none fw-semibold">207-415-8493</a>
                </p>
                <p class="mb-0">
                    <a href="mailto:reservations@foggswatertaxi.com" class="link-light text-decoration-none">
                        reservations@foggswatertaxi.com
                    </a>
                </p>
            </div>

            <!-- Social -->
            <div class="col-md-4">
                <div class="d-flex justify-content-center gap-3 fs-4">
                    <a class="link-light" href="https://www.facebook.com/FoggsWaterTaxi/" aria-label="Facebook">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a class="link-light" href="https://www.instagram.com/foggswatertaxi/" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a class="link-light" href="https://www.yelp.com/biz/foggs-water-taxi-and-charter-portland" aria-label="Yelp">
                        <i class="fab fa-yelp"></i>
                    </a>
                </div>
            </div>

            <!-- Address -->
            <div class="col-md-4">
                <address class="mb-0">
                    <a class="link-light text-decoration-none"
                       href="https://www.google.com/maps/place/Fogg's+Water+Taxi+and+Charters/@43.6561357,-70.2489642,18.47z">
                        Maine Wharf<br>72 Commercial Street<br>Portland, ME 04101
                    </a>
                </address>
            </div>
        </div>

        <hr class="border border-light opacity-50 my-3" />

        <div class="text-center small">&copy; 2026 foggswatertaxi.com</div>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Autoplay hero video in Safari; fall back to first user interaction
  const heroVideo = document.querySelector('.hero video');
  if (heroVideo) {
    heroVideo.play().catch(() => {
      // Autoplay blocked ‚Äî play on first tap or click anywhere
      const resume = () => { heroVideo.play().catch(() => {}); };
      document.addEventListener('click',      resume, { once: true });
      document.addEventListener('touchstart', resume, { once: true });
    });
  }
</script>
<script src="https://fareharbor.com/embeds/api/v1/?autolightframe=yes"></script>

<!-- Cruise Calendar -->
<script>
// ‚îÄ‚îÄ UPDATE SCHEDULE HERE each season ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// days array: 0=Sun 1=Mon 2=Tue 3=Wed 4=Thu 5=Fri 6=Sat
function buildSchedule() {
  const sched = {};

  function add(startStr, endStr, days, name, url, time) {
    const [sy,sm,sd] = startStr.split('-').map(Number);
    const [ey,em,ed] = endStr.split('-').map(Number);
    const cur = new Date(sy, sm-1, sd);
    const end = new Date(ey, em-1, ed);
    while (cur <= end) {
      if (days.includes(cur.getDay())) {
        const k = `${cur.getFullYear()}-${String(cur.getMonth()+1).padStart(2,'0')}-${String(cur.getDate()).padStart(2,'0')}`;
        (sched[k] = sched[k] || []).push({ name, url, time });
      }
      cur.setDate(cur.getDate() + 1);
    }
  }

  // Midday on the Bay ‚Äî Thu Fri Sat Sun, Jun 11 ‚Äì Sep 13
  add('2026-06-11','2026-09-13',[0,4,5,6],
    'Midday on the Bay',
    'https://fareharbor.com/embeds/book/foggswatertaxi/items/532278/?full-items=yes&flow=955616',
    '12:30 PM ‚Äì 2:00 PM');

  // Beer, Wine & Oysters ‚Äî Fri Sat Sun, Jun 12 ‚Äì Sep 13
  add('2026-06-12','2026-09-13',[0,5,6],
    'Beer, Wine & Oysters Cruise',
    'https://fareharbor.com/embeds/book/foggswatertaxi/items/461466/?full-items=yes&flow=955616',
    '3:30 PM ‚Äì 5:00 PM');

  // Portland Maine Sunset Cruise ‚Äî Thu Fri Sat, Jun 11 ‚Äì Sep 12
  add('2026-06-11','2026-09-12',[4,5,6],
    'Portland Maine Sunset Cruise',
    'https://fareharbor.com/embeds/book/foggswatertaxi/items/606166/?full-items=yes&flow=955616',
    '6:00 PM ‚Äì 7:30 PM');

  // 4th of July Fireworks ‚Äî Jul 4 only (no BWOC or Sunset cruise that day)
  if (sched['2026-07-04']) {
    sched['2026-07-04'] = sched['2026-07-04'].filter(e =>
      e.name !== 'Beer, Wine & Oysters Cruise' && e.name !== 'Portland Maine Sunset Cruise'
    );
  }
  (sched['2026-07-04'] = sched['2026-07-04'] || []).push(
    { name: '4th of July Fireworks Cruise ‚Äî Casco Bay Cat',
      url: 'https://fareharbor.com/embeds/book/foggswatertaxi/items/?flow=955616' },
    { name: '4th of July Fireworks Cruise ‚Äî Joseph S. Kennedy',
      url: 'https://fareharbor.com/embeds/book/foggswatertaxi/items/?flow=955616' }
  );

  return sched;
}
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const CRUISE_SCHEDULE = buildSchedule();

const CAL_MONTHS = ["January","February","March","April","May","June",
                    "July","August","September","October","November","December"];
const CAL_DAYS   = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];

const calToday = new Date();
let calYear    = calToday.getFullYear();
let calMonth   = calToday.getMonth();

// ‚îÄ‚îÄ Calendar rendering ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function calKey(y, m, d) {
  return `${y}-${String(m + 1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
}

function renderCalendar() {
  document.getElementById('cal-title').textContent = `${CAL_MONTHS[calMonth]} ${calYear}`;
  const grid = document.getElementById('cruise-cal-grid');
  grid.innerHTML = '';

  CAL_DAYS.forEach(name => {
    const el = document.createElement('div');
    el.className = 'cal-dayname text-white';
    el.textContent = name;
    grid.appendChild(el);
  });

  const firstDow    = new Date(calYear, calMonth, 1).getDay();
  const daysInMonth = new Date(calYear, calMonth + 1, 0).getDate();

  for (let i = 0; i < firstDow; i++) grid.appendChild(document.createElement('div'));

  for (let d = 1; d <= daysInMonth; d++) {
    const cell = document.createElement('div');
    cell.className = 'cal-cell text-white';
    cell.textContent = d;

    const k       = calKey(calYear, calMonth, d);
    const isToday = d === calToday.getDate() &&
                    calMonth === calToday.getMonth() &&
                    calYear  === calToday.getFullYear();

    if (isToday) cell.classList.add('is-today');
    if (CRUISE_SCHEDULE[k]) {
      cell.classList.add('has-event');
      const dot = document.createElement('span');
      dot.className = 'cal-dot';
      cell.appendChild(dot);
      cell.addEventListener('click', () => showEvents(k, cell));
    }
    grid.appendChild(cell);
  }
}

function showEvents(dateKey, clickedCell) {
  document.querySelectorAll('.cal-cell.is-selected')
          .forEach(el => el.classList.remove('is-selected'));
  clickedCell.classList.add('is-selected');

  const [y, m, d] = dateKey.split('-').map(Number);
  const label = new Date(y, m - 1, d)
    .toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' });

  const events = CRUISE_SCHEDULE[dateKey] || [];
  document.getElementById('cal-event-panel').innerHTML =
    `<p class="fw-semibold mb-3 small text-uppercase opacity-75">${label}</p>` +
    events.map(e =>
      `<div class="cal-event-card">
         <div class="d-flex align-items-center gap-2 mb-2">
           <span class="fw-semibold">${e.name}</span>
           ${e.time ? `<span class="badge rounded-pill border border-white border-opacity-75 text-white fw-normal">${e.time}</span>` : ''}
         </div>
         <a href="${e.url}" class="btn btn-light btn-sm text-primary fw-semibold">Book Now</a>
       </div>`
    ).join('');
}

function clearPanel() {
  document.getElementById('cal-event-panel').innerHTML =
    '<p class="opacity-75 mb-0"><em>Select a date to view cruises</em></p>';
}

// ‚îÄ‚îÄ Boot ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
renderCalendar();

document.getElementById('cal-prev').addEventListener('click', () => {
  calMonth === 0 ? (calMonth = 11, calYear--) : calMonth--;
  clearPanel();
  renderCalendar();
});
document.getElementById('cal-next').addEventListener('click', () => {
  calMonth === 11 ? (calMonth = 0, calYear++) : calMonth++;
  clearPanel();
  renderCalendar();
});
</script>

</body>
</html>
